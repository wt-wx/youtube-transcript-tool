# YouTube Content Automation Factory ğŸš€

ä¸€ä¸ªå·¥ä¸šçº§çš„ YouTube å†…å®¹è‡ªåŠ¨åŒ–ç”Ÿäº§çº¿ã€‚å®ƒé‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡é¢‘é“å­˜é‡è§†é¢‘çš„å­—å¹•æŠ“å–ã€è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰ä»¥åŠå¤šå¹³å°å†…å®¹è½¬åŒ–ã€‚

## ğŸ—ï¸ åˆ†å¸ƒå¼æ¶æ„è®¾è®¡

ä¸ºäº†ä¼˜åŒ–æ•ˆç‡å¹¶é™ä½é£æ§é£é™©ï¼Œé¡¹ç›®æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²æ¨¡å¼ï¼š

- **LA èŠ‚ç‚¹ (Capture)**: éƒ¨ç½²åœ¨ç¦» YouTube æœåŠ¡å™¨è¿‘çš„ VPSï¼ˆå¦‚æ´›æ‰çŸ¶ï¼‰ï¼Œè´Ÿè´£é™é€ŸæŠ“å–ã€éŸ³é¢‘æå–å¹¶æ¬è¿è‡³äº‘ç«¯å­˜å‚¨ï¼ˆGoogle Drive/Rcloneï¼‰ã€‚
- **HK èŠ‚ç‚¹ (Intelligence)**: éƒ¨ç½²åœ¨è®¡ç®—èµ„æºå……è¶³çš„ VPSï¼ˆå¦‚é¦™æ¸¯ï¼‰ï¼Œè´Ÿè´£ä»äº‘ç«¯æ‹‰å–éŸ³é¢‘ï¼Œå¹¶è¿è¡Œ `Faster-Whisper` æ¨ç†ç”Ÿæˆé«˜è´¨é‡å­—å¹•ã€‚
- **è°ƒåº¦ä¸­å¿ƒ (Google Sheets)**: ä½œä¸ºå…¨å±€ä»»åŠ¡é˜Ÿåˆ—å¹³è¡¡å„ä¸ªèŠ‚ç‚¹çš„ç”Ÿäº§è¿›åº¦ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **åˆ†å¸ƒå¼ç”Ÿäº§çº¿**ï¼šæ”¯æŒ LA/HK åŒèŠ‚ç‚¹æ¨¡å¼ï¼Œè‡ªåŠ¨åŒæ­¥çŠ¶æ€ã€‚
- **éšåŒ¿æ¬è¿**ï¼šLA èŠ‚ç‚¹æ”¯æŒ `yt-dlp` é™é€Ÿä¸‹è½½ä¸éšæœºç­‰å¾…ï¼Œå®Œç¾è§„é¿ YouTube é£æ§ã€‚
- **é«˜ç²¾åº¦ AI è½¬å½•**ï¼šåŸºäº `Faster-Whisper` çš„ `large-v3` æˆ– `medium` æ¨¡å‹ï¼Œé’ˆå¯¹ä¸­æ–‡ä¼˜åŒ–äº† `initial_prompt`ã€‚
- **äº‘ç«¯æŒä¹…åŒ–**ï¼šæ”¯æŒé€šè¿‡ Google Drive æˆ– Rclone æŒ‚è½½ç‚¹è¿›è¡ŒéŸ³é¢‘ä¸­è½¬ï¼Œæ— éœ€ VPS é•¿æœŸå ç”¨ç¡¬ç›˜ã€‚

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚ä¸å®‰è£…

### 1. ç³»ç»Ÿä¾èµ– (LA/HK ä¸¤ä¸ªèŠ‚ç‚¹å‡éœ€å®‰è£…)
- **Python 3.10+**
- **FFmpeg**: æ ¸å¿ƒç»„ä»¶ã€‚LA èŠ‚ç‚¹ç”¨äºæå–éŸ³è½¨ï¼ŒHK èŠ‚ç‚¹ç”¨äºè¯­éŸ³è§£ç ã€‚
- **Python Pip & Venv**: ç”¨äºç®¡ç†ä¾èµ–å’Œè™šæ‹Ÿç¯å¢ƒã€‚

```bash
# Ubuntu/Debian ç¯å¢ƒåˆå§‹åŒ–
sudo apt update
sudo apt install ffmpeg python3-pip python3-venv -y
```

### 2. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (æ¨è)
ä¸ºäº†ä¿æŒæœåŠ¡å™¨å…¨å±€ç¯å¢ƒçº¯å‡€ï¼Œå»ºè®®åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼š

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (åä¸º venv)
python3 -m venv venv

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# æ¿€æ´»åï¼Œä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦å‰ä¼šå‡ºç° (venv) å­—æ ·
```

### 3. å®‰è£…é¡¹ç›®ä¾èµ–
æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåï¼Œæ ¹æ®èŠ‚ç‚¹è§’è‰²å®‰è£…æ‰€éœ€ç»„ä»¶ï¼š

- **LA èŠ‚ç‚¹ (æŠ“å–)**:
  ```bash
  pip install yt-dlp gspread oauth2client google-api-python-client python-dotenv
  ```
- **HK èŠ‚ç‚¹ (è½¬å½•)**:
  ```bash
  pip install faster-whisper gspread oauth2client python-dotenv
  ```

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### 1. Google é¡¹ç›®ä¸ Drive é…ç½®
1. **è·å–å‡­æ®**ï¼šåœ¨ Google Cloud ä¸‹è½½æœåŠ¡è´¦å·å¯†é’¥ï¼Œé‡å‘½åä¸º `credentials.json` æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•ã€‚
2. **å¼€å¯ API**ï¼šç¡®ä¿åœ¨ GCP Console å¼€å¯äº† **Sheets API** å’Œ **Drive API**ã€‚
3. **è®¾ç½®ä¸­è½¬æ–‡ä»¶å¤¹**ï¼š
   - åœ¨ Google Drive åˆ›å»ºæ–‡ä»¶å¤¹ï¼ˆå¦‚ `youtube_factory`ï¼‰ã€‚
   - **å…±äº«**ï¼šå°†è¯¥æ–‡ä»¶å¤¹å…±äº«ç»™æœåŠ¡è´¦å·çš„ Emailï¼Œæƒé™è®¾ä¸º **â€œç¼–è¾‘è€…â€**ã€‚
   - **è·å– ID**ï¼šå¤åˆ¶æ–‡ä»¶å¤¹ URL ä¸­çš„æœ€åä¸€ä¸²å­—ç¬¦ã€‚

### 2. ç¯å¢ƒé…ç½® (.env)
åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
CREDENTIALS_FILE=credentials.json
SPREADSHEET_NAME=YouTube_Blogger_Automation

# å¡«å…¥ä½ åˆšæ‰å‡†å¤‡çš„æ–‡ä»¶å¤¹ ID
DRIVE_FOLDER_ID=ä½ çš„æ–‡ä»¶å¤¹ID

# èŠ‚ç‚¹ç‰¹å®šé…ç½®
FETCH_LIMIT=10
WHISPER_MODEL_SIZE=medium
```

## ğŸš€ èŠ‚ç‚¹éƒ¨ç½²æŒ‡å—

### 1. åŸºç¡€å¯åŠ¨
åœ¨å¯¹åº”èŠ‚ç‚¹çš„ VPS ä¸Šè¿›å…¥é¡¹ç›®ç›®å½•ï¼š
```bash
# LA æŠ“å–èŠ‚ç‚¹
python3 fetch_and_upload.py

# HK è½¬å½•èŠ‚ç‚¹
python3 transcribe_and_fill.py
```

### 2. åå°å®ˆæŠ¤ (é˜²æ­¢æ–­å¼€ SSH åä¸­æ–­)
åœ¨æœåŠ¡å™¨ä¸Šï¼Œå½“ä½ å…³é—­ç»ˆç«¯çª—å£æ—¶ï¼Œæ™®é€šè¿è¡Œçš„ç¨‹åºä¼šéšä¹‹åœæ­¢ã€‚ä¸ºäº†è®©è„šæœ¬ 24/7 è¿è¡Œï¼Œæ¨èä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š

#### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ `screen` (å¼ºçƒˆæ¨èï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹æ—¥å¿—)
`screen` å°±åƒç»™æœåŠ¡å™¨å¼€äº†ä¸€ä¸ªâ€œè™šæ‹Ÿæ¡Œé¢â€ï¼Œä½ é€€å‡ºäº† SSHï¼Œæ¡Œé¢è¿˜åœ¨ã€‚

1. **å®‰è£…** (è‹¥æ²¡æœ‰)ï¼š`sudo apt install screen`
2. **åˆ›å»ºä¸€ä¸ªæ–°çª—å£**ï¼š
   ```bash
   screen -S youtube_task
   ```
3. **åœ¨çª—å£ä¸­å¯åŠ¨è„šæœ¬**ï¼š
   ```bash
   python3 fetch_and_upload.py
   ```
4. **é€€å‡ºçª—å£ï¼ˆä¿æŒè¿è¡Œï¼‰**ï¼šæŒ‰ä¸‹é”®ç›˜ `Ctrl + A`ï¼Œç„¶åæŒ‰ `D` (Detach)ã€‚ç°åœ¨ä½ å¯ä»¥æ”¾å¿ƒå…³é—­ç»ˆç«¯äº†ã€‚
5. **ä¸‹æ¬¡å›æ¥æŸ¥çœ‹è¿›åº¦**ï¼š
   ```bash
   screen -r youtube_task
   ```

#### æ–¹æ¡ˆ Bï¼šä½¿ç”¨ `nohup` (ç®€å•ã€æ— éœ€å®‰è£…)
å¦‚æœä½ ä¸éœ€è¦é¢‘ç¹äº¤äº’ï¼Œåªæƒ³è®©å®ƒæ­»è·‘ã€‚

1. **å¯åŠ¨å¹¶å¿½ç•¥æŒ‚æ–­ä¿¡å·**ï¼š
   ```bash
   nohup python3 fetch_and_upload.py > task.log 2>&1 &
   ```
   - `> task.log`: å°†æ‰€æœ‰è¾“å‡ºè®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚
   - `2>&1`: æŠŠé”™è¯¯ä¿¡æ¯ä¹Ÿåˆå¹¶åˆ°æ—¥å¿—ã€‚
   - `&`: è®©ç¨‹åºç›´æ¥è¿›å…¥åå°ã€‚
2. **å¦‚ä½•åœæ­¢å®ƒ**ï¼š
   ```bash
   # æ‰¾åˆ°è¿›ç¨‹ ID
   ps -ef | grep fetch_and_upload.py
   # æ€æ‰å®ƒ (PID æ˜¯è¾“å‡ºä¸­çš„æ•°å­—)
   kill PID
   ```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
/
â”œâ”€â”€ fetch_and_upload.py    # LA èŠ‚ç‚¹å¯åŠ¨å…¥å£
â”œâ”€â”€ transcribe_and_fill.py # HK èŠ‚ç‚¹å¯åŠ¨å…¥å£
â”œâ”€â”€ diagnostic.py          # ç¯å¢ƒè¯Šæ–­å·¥å…·
â”œâ”€â”€ src/                   # æ ¸å¿ƒæºä»£ç 
â”‚   â””â”€â”€ core/              # é…ç½®ä¸ API å®¢æˆ·ç«¯å°è£…
â”œâ”€â”€ legacy/                # å†å²/å¤‡é€‰ç®¡çº¿è„šæœ¬ (å½’æ¡£)
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡é…ç½®æ¨¡ç‰ˆ
â””â”€â”€ requirements.txt       # Python ä¾èµ–æ¸…å•
```

## ğŸ“œ å¸¸ç”¨å‘½ä»¤

### 1. ç¯å¢ƒè¯Šæ–­
åœ¨éƒ¨ç½²å‰ï¼Œè¿è¡Œæ­¤è„šæœ¬æ£€æŸ¥ Google API æƒé™ï¼š
```bash
python3 diagnostic.py
```

### 2. å¯åŠ¨ç”Ÿäº§çº¿
```bash
# LA èŠ‚ç‚¹
python3 fetch_and_upload.py

# HK èŠ‚ç‚¹
python3 transcribe_and_fill.py
```
MIT License

https://geniux.net